/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/10.1.41
 * Generated at: 2025-09-30 09:23:31 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import jakarta.servlet.*;
import jakarta.servlet.http.*;
import jakarta.servlet.jsp.*;
import java.sql.*;

public final class FacultyDashboard_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent,
                 org.apache.jasper.runtime.JspSourceImports,
                 org.apache.jasper.runtime.JspSourceDirectives {

  private static final jakarta.servlet.jsp.JspFactory _jspxFactory =
          jakarta.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private static final java.util.Set<java.lang.String> _jspx_imports_packages;

  private static final java.util.Set<java.lang.String> _jspx_imports_classes;

  static {
    _jspx_imports_packages = new java.util.LinkedHashSet<>(6);
    _jspx_imports_packages.add("java.sql");
    _jspx_imports_packages.add("jakarta.servlet");
    _jspx_imports_packages.add("jakarta.servlet.http");
    _jspx_imports_packages.add("jakarta.servlet.jsp");
    _jspx_imports_classes = null;
  }

  private volatile jakarta.el.ExpressionFactory _el_expressionfactory;
  private volatile org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public java.util.Set<java.lang.String> getPackageImports() {
    return _jspx_imports_packages;
  }

  public java.util.Set<java.lang.String> getClassImports() {
    return _jspx_imports_classes;
  }

  public boolean getErrorOnELNotFound() {
    return false;
  }

  public jakarta.el.ExpressionFactory _jsp_getExpressionFactory() {
    if (_el_expressionfactory == null) {
      synchronized (this) {
        if (_el_expressionfactory == null) {
          _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
        }
      }
    }
    return _el_expressionfactory;
  }

  public org.apache.tomcat.InstanceManager _jsp_getInstanceManager() {
    if (_jsp_instancemanager == null) {
      synchronized (this) {
        if (_jsp_instancemanager == null) {
          _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
        }
      }
    }
    return _jsp_instancemanager;
  }

  public void _jspInit() {
  }

  public void _jspDestroy() {
  }

  public void _jspService(final jakarta.servlet.http.HttpServletRequest request, final jakarta.servlet.http.HttpServletResponse response)
      throws java.io.IOException, jakarta.servlet.ServletException {

    if (!jakarta.servlet.DispatcherType.ERROR.equals(request.getDispatcherType())) {
      final java.lang.String _jspx_method = request.getMethod();
      if ("OPTIONS".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        return;
      }
      if (!"GET".equals(_jspx_method) && !"POST".equals(_jspx_method) && !"HEAD".equals(_jspx_method)) {
        response.setHeader("Allow","GET, HEAD, POST, OPTIONS");
        response.sendError(HttpServletResponse.SC_METHOD_NOT_ALLOWED, "JSPs only permit GET, POST or HEAD. Jasper also permits OPTIONS");
        return;
      }
    }

    final jakarta.servlet.jsp.PageContext pageContext;
    jakarta.servlet.http.HttpSession session = null;
    final jakarta.servlet.ServletContext application;
    final jakarta.servlet.ServletConfig config;
    jakarta.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    jakarta.servlet.jsp.JspWriter _jspx_out = null;
    jakarta.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html; charset=UTF-8");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("<!-- filepath: g:\\java project task\\student management systems\\Student management systems\\src\\main\\webapp\\FacultyDashboard.jsp -->\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");

    String facultyUser = (String) session.getAttribute("facultyUser");
    if (facultyUser == null) {
        response.sendRedirect("FacultyLogin.jsp");
        return;
    }

      out.write("\r\n");
      out.write("<!DOCTYPE html>\r\n");
      out.write("<html lang=\"en\">\r\n");
      out.write("<head>\r\n");
      out.write("    <meta charset=\"UTF-8\">\r\n");
      out.write("    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n");
      out.write("    <title>Faculty Dashboard - Student Management System</title>\r\n");
      out.write("    <link href=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css\" rel=\"stylesheet\">\r\n");
      out.write("    <link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\" rel=\"stylesheet\">\r\n");
      out.write("    <link href=\"https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap\" rel=\"stylesheet\">\r\n");
      out.write("    <link href=\"https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css\" rel=\"stylesheet\">\r\n");
      out.write("    <style>\r\n");
      out.write("        * {\r\n");
      out.write("            margin: 0;\r\n");
      out.write("            padding: 0;\r\n");
      out.write("            box-sizing: border-box;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        body {\r\n");
      out.write("            font-family: 'Poppins', sans-serif;\r\n");
      out.write("            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\r\n");
      out.write("            min-height: 100vh;\r\n");
      out.write("            overflow-x: hidden;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Animations === */\r\n");
      out.write("        @keyframes fadeInUp {\r\n");
      out.write("            from {\r\n");
      out.write("                opacity: 0;\r\n");
      out.write("                transform: translateY(50px);\r\n");
      out.write("            }\r\n");
      out.write("            to {\r\n");
      out.write("                opacity: 1;\r\n");
      out.write("                transform: translateY(0);\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        @keyframes slideInFromLeft {\r\n");
      out.write("            from {\r\n");
      out.write("                opacity: 0;\r\n");
      out.write("                transform: translateX(-50px);\r\n");
      out.write("            }\r\n");
      out.write("            to {\r\n");
      out.write("                opacity: 1;\r\n");
      out.write("                transform: translateX(0);\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        @keyframes pulse {\r\n");
      out.write("            0%, 100% { transform: scale(1); }\r\n");
      out.write("            50% { transform: scale(1.02); }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        @keyframes float {\r\n");
      out.write("            0%, 100% { transform: translateY(0px); }\r\n");
      out.write("            50% { transform: translateY(-10px); }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Header === */\r\n");
      out.write("        .header {\r\n");
      out.write("            background: rgba(255, 255, 255, 0.1);\r\n");
      out.write("            backdrop-filter: blur(10px);\r\n");
      out.write("            border-radius: 15px;\r\n");
      out.write("            padding: 25px;\r\n");
      out.write("            margin: 20px;\r\n");
      out.write("            margin-bottom: 30px;\r\n");
      out.write("            text-align: center;\r\n");
      out.write("            color: white;\r\n");
      out.write("            animation: fadeInUp 0.8s ease-out;\r\n");
      out.write("            position: relative;\r\n");
      out.write("            overflow: hidden;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .header::before {\r\n");
      out.write("            content: '';\r\n");
      out.write("            position: absolute;\r\n");
      out.write("            top: 0;\r\n");
      out.write("            left: 0;\r\n");
      out.write("            right: 0;\r\n");
      out.write("            bottom: 0;\r\n");
      out.write("            background: url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 100 100\"><defs><pattern id=\"grain\" width=\"100\" height=\"100\" patternUnits=\"userSpaceOnUse\"><circle cx=\"25\" cy=\"25\" r=\"1\" fill=\"%23ffffff\" opacity=\"0.1\"/><circle cx=\"75\" cy=\"75\" r=\"1\" fill=\"%23ffffff\" opacity=\"0.1\"/></pattern></defs><rect width=\"100\" height=\"100\" fill=\"url(%23grain)\"/></svg>');\r\n");
      out.write("            pointer-events: none;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .header h1 {\r\n");
      out.write("            font-size: 2.8rem;\r\n");
      out.write("            font-weight: 700;\r\n");
      out.write("            margin-bottom: 10px;\r\n");
      out.write("            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);\r\n");
      out.write("            z-index: 1;\r\n");
      out.write("            position: relative;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .header .subtitle {\r\n");
      out.write("            font-size: 1.2rem;\r\n");
      out.write("            opacity: 0.9;\r\n");
      out.write("            z-index: 1;\r\n");
      out.write("            position: relative;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Top Navigation === */\r\n");
      out.write("        .top-nav {\r\n");
      out.write("            background: rgba(255, 255, 255, 0.1);\r\n");
      out.write("            backdrop-filter: blur(10px);\r\n");
      out.write("            border-radius: 12px;\r\n");
      out.write("            padding: 15px 25px;\r\n");
      out.write("            margin: 0 20px 25px 20px;\r\n");
      out.write("            animation: slideInFromLeft 1s ease-out;\r\n");
      out.write("            display: flex;\r\n");
      out.write("            justify-content: space-between;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            flex-wrap: wrap;\r\n");
      out.write("            gap: 15px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .breadcrumb-nav {\r\n");
      out.write("            display: flex;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            gap: 10px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .breadcrumb-nav a {\r\n");
      out.write("            color: white;\r\n");
      out.write("            text-decoration: none;\r\n");
      out.write("            font-weight: 500;\r\n");
      out.write("            transition: all 0.3s ease;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .breadcrumb-nav a:hover {\r\n");
      out.write("            color: #f8f9fa;\r\n");
      out.write("            text-shadow: 0 2px 4px rgba(0,0,0,0.3);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .nav-actions {\r\n");
      out.write("            display: flex;\r\n");
      out.write("            gap: 15px;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .current-time {\r\n");
      out.write("            background: rgba(255, 255, 255, 0.2);\r\n");
      out.write("            padding: 8px 15px;\r\n");
      out.write("            border-radius: 20px;\r\n");
      out.write("            color: white;\r\n");
      out.write("            font-weight: 500;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .logout-btn {\r\n");
      out.write("            background: linear-gradient(135deg, #dc3545, #c82333);\r\n");
      out.write("            color: white;\r\n");
      out.write("            border: none;\r\n");
      out.write("            padding: 10px 20px;\r\n");
      out.write("            border-radius: 50px;\r\n");
      out.write("            font-weight: 600;\r\n");
      out.write("            text-decoration: none;\r\n");
      out.write("            transition: all 0.3s ease;\r\n");
      out.write("            display: inline-flex;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            gap: 8px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .logout-btn:hover {\r\n");
      out.write("            transform: translateY(-2px);\r\n");
      out.write("            box-shadow: 0 8px 25px rgba(220, 53, 69, 0.3);\r\n");
      out.write("            color: white;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Statistics Cards === */\r\n");
      out.write("        .stats-container {\r\n");
      out.write("            display: grid;\r\n");
      out.write("            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\r\n");
      out.write("            gap: 20px;\r\n");
      out.write("            margin: 0 20px 30px 20px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card {\r\n");
      out.write("            background: rgba(255, 255, 255, 0.95);\r\n");
      out.write("            border-radius: 15px;\r\n");
      out.write("            padding: 25px;\r\n");
      out.write("            text-align: center;\r\n");
      out.write("            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n");
      out.write("            transition: all 0.3s ease;\r\n");
      out.write("            animation: fadeInUp 1s ease-out;\r\n");
      out.write("            position: relative;\r\n");
      out.write("            overflow: hidden;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card::before {\r\n");
      out.write("            content: '';\r\n");
      out.write("            position: absolute;\r\n");
      out.write("            top: 0;\r\n");
      out.write("            left: 0;\r\n");
      out.write("            right: 0;\r\n");
      out.write("            height: 4px;\r\n");
      out.write("            background: var(--gradient);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card:hover {\r\n");
      out.write("            transform: translateY(-10px);\r\n");
      out.write("            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card .icon {\r\n");
      out.write("            font-size: 2.5rem;\r\n");
      out.write("            margin-bottom: 15px;\r\n");
      out.write("            background: var(--gradient);\r\n");
      out.write("            -webkit-background-clip: text;\r\n");
      out.write("            -webkit-text-fill-color: transparent;\r\n");
      out.write("            background-clip: text;\r\n");
      out.write("            animation: float 3s ease-in-out infinite;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card .number {\r\n");
      out.write("            font-size: 2rem;\r\n");
      out.write("            font-weight: 700;\r\n");
      out.write("            color: #333;\r\n");
      out.write("            margin-bottom: 5px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card .label {\r\n");
      out.write("            color: #666;\r\n");
      out.write("            font-weight: 500;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card.faculty {\r\n");
      out.write("            --gradient: linear-gradient(135deg, #667eea, #764ba2);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card.students {\r\n");
      out.write("            --gradient: linear-gradient(135deg, #f093fb, #f5576c);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card.courses {\r\n");
      out.write("            --gradient: linear-gradient(135deg, #4facfe, #00f2fe);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .stat-card.active {\r\n");
      out.write("            --gradient: linear-gradient(135deg, #43e97b, #38f9d7);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Main Card === */\r\n");
      out.write("        .main-card {\r\n");
      out.write("            background: white;\r\n");
      out.write("            border-radius: 20px;\r\n");
      out.write("            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\r\n");
      out.write("            overflow: hidden;\r\n");
      out.write("            animation: fadeInUp 1.2s ease-out;\r\n");
      out.write("            position: relative;\r\n");
      out.write("            margin: 0 20px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .main-card::before {\r\n");
      out.write("            content: '';\r\n");
      out.write("            position: absolute;\r\n");
      out.write("            top: 0;\r\n");
      out.write("            left: 0;\r\n");
      out.write("            right: 0;\r\n");
      out.write("            height: 4px;\r\n");
      out.write("            background: linear-gradient(135deg, #667eea, #764ba2);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .card-header-custom {\r\n");
      out.write("            background: linear-gradient(135deg, #f8f9fa, #e9ecef);\r\n");
      out.write("            padding: 30px;\r\n");
      out.write("            border-bottom: 1px solid #dee2e6;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .card-header-custom h2 {\r\n");
      out.write("            color: #333;\r\n");
      out.write("            font-size: 2rem;\r\n");
      out.write("            font-weight: 600;\r\n");
      out.write("            margin-bottom: 15px;\r\n");
      out.write("            animation: slideInFromLeft 1.2s ease-out;\r\n");
      out.write("            display: flex;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            gap: 10px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .welcome-message {\r\n");
      out.write("            background: linear-gradient(135deg, #e3f2fd, #bbdefb);\r\n");
      out.write("            padding: 20px;\r\n");
      out.write("            border-radius: 12px;\r\n");
      out.write("            color: #1565c0;\r\n");
      out.write("            margin-bottom: 15px;\r\n");
      out.write("            display: flex;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            gap: 10px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Controls Section === */\r\n");
      out.write("        .controls-section {\r\n");
      out.write("            padding: 25px 30px;\r\n");
      out.write("            background: #f8f9fa;\r\n");
      out.write("            border-bottom: 1px solid #dee2e6;\r\n");
      out.write("            display: flex;\r\n");
      out.write("            justify-content: space-between;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            flex-wrap: wrap;\r\n");
      out.write("            gap: 15px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .search-container {\r\n");
      out.write("            flex: 1;\r\n");
      out.write("            min-width: 250px;\r\n");
      out.write("            position: relative;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .search-container input {\r\n");
      out.write("            width: 100%;\r\n");
      out.write("            padding: 12px 50px 12px 20px;\r\n");
      out.write("            border: 2px solid #e9ecef;\r\n");
      out.write("            border-radius: 50px;\r\n");
      out.write("            font-size: 1rem;\r\n");
      out.write("            transition: all 0.3s ease;\r\n");
      out.write("            background: white;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .search-container input:focus {\r\n");
      out.write("            border-color: #667eea;\r\n");
      out.write("            box-shadow: 0 0 0 0.2rem rgba(102, 126, 234, 0.25);\r\n");
      out.write("            outline: none;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .search-container .search-icon {\r\n");
      out.write("            position: absolute;\r\n");
      out.write("            right: 20px;\r\n");
      out.write("            top: 50%;\r\n");
      out.write("            transform: translateY(-50%);\r\n");
      out.write("            color: #667eea;\r\n");
      out.write("            font-size: 1.1rem;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Action Buttons === */\r\n");
      out.write("        .btn-custom {\r\n");
      out.write("            padding: 10px 20px;\r\n");
      out.write("            border-radius: 50px;\r\n");
      out.write("            font-weight: 600;\r\n");
      out.write("            font-size: 0.9rem;\r\n");
      out.write("            border: none;\r\n");
      out.write("            cursor: pointer;\r\n");
      out.write("            transition: all 0.3s ease;\r\n");
      out.write("            position: relative;\r\n");
      out.write("            overflow: hidden;\r\n");
      out.write("            text-decoration: none;\r\n");
      out.write("            display: inline-flex;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            gap: 8px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-add {\r\n");
      out.write("            background: linear-gradient(135deg, #28a745, #20c997);\r\n");
      out.write("            color: white;\r\n");
      out.write("            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-refresh {\r\n");
      out.write("            background: linear-gradient(135deg, #17a2b8, #138496);\r\n");
      out.write("            color: white;\r\n");
      out.write("            box-shadow: 0 4px 15px rgba(23, 162, 184, 0.3);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-export {\r\n");
      out.write("            background: linear-gradient(135deg, #6f42c1, #563d7c);\r\n");
      out.write("            color: white;\r\n");
      out.write("            box-shadow: 0 4px 15px rgba(111, 66, 193, 0.3);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-custom::before {\r\n");
      out.write("            content: '';\r\n");
      out.write("            position: absolute;\r\n");
      out.write("            top: 50%;\r\n");
      out.write("            left: 50%;\r\n");
      out.write("            width: 0;\r\n");
      out.write("            height: 0;\r\n");
      out.write("            background: rgba(255, 255, 255, 0.2);\r\n");
      out.write("            border-radius: 50%;\r\n");
      out.write("            transition: all 0.4s ease;\r\n");
      out.write("            transform: translate(-50%, -50%);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-custom:hover::before {\r\n");
      out.write("            width: 300px;\r\n");
      out.write("            height: 300px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-custom:hover {\r\n");
      out.write("            transform: translateY(-2px);\r\n");
      out.write("            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);\r\n");
      out.write("            color: white;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Table Styling === */\r\n");
      out.write("        .table-container {\r\n");
      out.write("            padding: 30px;\r\n");
      out.write("            overflow-x: auto;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .table {\r\n");
      out.write("            margin-bottom: 0;\r\n");
      out.write("            border-radius: 12px;\r\n");
      out.write("            overflow: hidden;\r\n");
      out.write("            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .table thead th {\r\n");
      out.write("            background: linear-gradient(135deg, #667eea, #764ba2);\r\n");
      out.write("            color: white;\r\n");
      out.write("            border: none;\r\n");
      out.write("            padding: 15px 12px;\r\n");
      out.write("            font-weight: 600;\r\n");
      out.write("            text-align: center;\r\n");
      out.write("            white-space: nowrap;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .table tbody td {\r\n");
      out.write("            padding: 15px 12px;\r\n");
      out.write("            border-color: #f1f3f4;\r\n");
      out.write("            vertical-align: middle;\r\n");
      out.write("            text-align: center;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .table tbody tr {\r\n");
      out.write("            transition: all 0.3s ease;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .table tbody tr:hover {\r\n");
      out.write("            background-color: #f8f9ff;\r\n");
      out.write("            transform: scale(1.01);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Action Buttons in Table === */\r\n");
      out.write("        .action-buttons {\r\n");
      out.write("            display: flex;\r\n");
      out.write("            gap: 8px;\r\n");
      out.write("            justify-content: center;\r\n");
      out.write("            flex-wrap: wrap;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-sm-custom {\r\n");
      out.write("            padding: 6px 12px;\r\n");
      out.write("            border-radius: 20px;\r\n");
      out.write("            font-size: 0.8rem;\r\n");
      out.write("            font-weight: 600;\r\n");
      out.write("            border: none;\r\n");
      out.write("            cursor: pointer;\r\n");
      out.write("            transition: all 0.3s ease;\r\n");
      out.write("            text-decoration: none;\r\n");
      out.write("            display: inline-flex;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            gap: 4px;\r\n");
      out.write("            min-width: 70px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-edit {\r\n");
      out.write("            background: linear-gradient(135deg, #ffc107, #e0a800);\r\n");
      out.write("            color: #212529;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-delete {\r\n");
      out.write("            background: linear-gradient(135deg, #dc3545, #c82333);\r\n");
      out.write("            color: white;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-view {\r\n");
      out.write("            background: linear-gradient(135deg, #007bff, #0056b3);\r\n");
      out.write("            color: white;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .btn-sm-custom:hover {\r\n");
      out.write("            transform: translateY(-1px);\r\n");
      out.write("            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Empty State === */\r\n");
      out.write("        .empty-state {\r\n");
      out.write("            text-align: center;\r\n");
      out.write("            padding: 60px 30px;\r\n");
      out.write("            color: #6c757d;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .empty-state .icon {\r\n");
      out.write("            font-size: 4rem;\r\n");
      out.write("            margin-bottom: 20px;\r\n");
      out.write("            color: #dee2e6;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .empty-state h3 {\r\n");
      out.write("            font-size: 1.5rem;\r\n");
      out.write("            margin-bottom: 10px;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Loading Animation === */\r\n");
      out.write("        .loading-overlay {\r\n");
      out.write("            position: fixed;\r\n");
      out.write("            top: 0;\r\n");
      out.write("            left: 0;\r\n");
      out.write("            width: 100%;\r\n");
      out.write("            height: 100%;\r\n");
      out.write("            background: rgba(102, 126, 234, 0.9);\r\n");
      out.write("            display: flex;\r\n");
      out.write("            justify-content: center;\r\n");
      out.write("            align-items: center;\r\n");
      out.write("            z-index: 9999;\r\n");
      out.write("            opacity: 0;\r\n");
      out.write("            visibility: hidden;\r\n");
      out.write("            transition: all 0.3s ease;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .loading-overlay.show {\r\n");
      out.write("            opacity: 1;\r\n");
      out.write("            visibility: visible;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        .spinner {\r\n");
      out.write("            width: 50px;\r\n");
      out.write("            height: 50px;\r\n");
      out.write("            border: 3px solid rgba(255, 255, 255, 0.3);\r\n");
      out.write("            border-top: 3px solid white;\r\n");
      out.write("            border-radius: 50%;\r\n");
      out.write("            animation: spin 1s linear infinite;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        @keyframes spin {\r\n");
      out.write("            0% { transform: rotate(0deg); }\r\n");
      out.write("            100% { transform: rotate(360deg); }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        /* === Responsive Design === */\r\n");
      out.write("        @media (max-width: 768px) {\r\n");
      out.write("            .header h1 {\r\n");
      out.write("                font-size: 2rem;\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("            .top-nav {\r\n");
      out.write("                flex-direction: column;\r\n");
      out.write("                text-align: center;\r\n");
      out.write("                margin: 0 10px 20px 10px;\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("            .controls-section {\r\n");
      out.write("                flex-direction: column;\r\n");
      out.write("                align-items: stretch;\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("            .search-container {\r\n");
      out.write("                min-width: auto;\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("            .table-container {\r\n");
      out.write("                padding: 15px;\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("            .action-buttons {\r\n");
      out.write("                flex-direction: column;\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("            .stats-container {\r\n");
      out.write("                grid-template-columns: 1fr 1fr;\r\n");
      out.write("                margin: 0 10px 20px 10px;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            .main-card {\r\n");
      out.write("                margin: 0 10px;\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        @media (max-width: 480px) {\r\n");
      out.write("            .stats-container {\r\n");
      out.write("                grid-template-columns: 1fr;\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("    </style>\r\n");
      out.write("</head>\r\n");
      out.write("<body>\r\n");
      out.write("    <!-- Loading Overlay -->\r\n");
      out.write("    <div class=\"loading-overlay\" id=\"loadingOverlay\">\r\n");
      out.write("        <div class=\"spinner\"></div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <div class=\"container-fluid\">\r\n");
      out.write("        <!-- Header -->\r\n");
      out.write("        <div class=\"header\">\r\n");
      out.write("            <h1><i class=\"fas fa-chalkboard-teacher\"></i> Faculty Dashboard</h1>\r\n");
      out.write("            <p class=\"subtitle\">Manage Faculty Members and Academic Information</p>\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("        <!-- Top Navigation -->\r\n");
      out.write("        <div class=\"top-nav\">\r\n");
      out.write("            <div class=\"breadcrumb-nav\">\r\n");
      out.write("                <a href=\"index.html\"><i class=\"fas fa-home\"></i> Dashboard</a>\r\n");
      out.write("                <span class=\"mx-2 text-white-50\">•</span>\r\n");
      out.write("                <span class=\"text-white\">Faculty Management</span>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"nav-actions\">\r\n");
      out.write("                <div class=\"current-time\">\r\n");
      out.write("                    <i class=\"fas fa-clock\"></i>\r\n");
      out.write("                    <span id=\"currentTime\"></span>\r\n");
      out.write("                </div>\r\n");
      out.write("                <a href=\"LogoutServlet\" class=\"logout-btn\">\r\n");
      out.write("                    <i class=\"fas fa-sign-out-alt\"></i> Logout\r\n");
      out.write("                </a>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("        <!-- Welcome Message -->\r\n");
      out.write("        <div class=\"stats-container\">\r\n");
      out.write("            <div class=\"stat-card faculty\">\r\n");
      out.write("                <div class=\"icon\">\r\n");
      out.write("                    <i class=\"fas fa-chalkboard-teacher\"></i>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"number\" id=\"totalFaculty\">0</div>\r\n");
      out.write("                <div class=\"label\">Total Faculty</div>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"stat-card students\">\r\n");
      out.write("                <div class=\"icon\">\r\n");
      out.write("                    <i class=\"fas fa-user-graduate\"></i>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"number\" id=\"totalStudents\">0</div>\r\n");
      out.write("                <div class=\"label\">Students</div>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"stat-card courses\">\r\n");
      out.write("                <div class=\"icon\">\r\n");
      out.write("                    <i class=\"fas fa-book\"></i>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"number\" id=\"totalCourses\">0</div>\r\n");
      out.write("                <div class=\"label\">Subjects</div>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"stat-card active\">\r\n");
      out.write("                <div class=\"icon\">\r\n");
      out.write("                    <i class=\"fas fa-user-check\"></i>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"number\">1</div>\r\n");
      out.write("                <div class=\"label\">Active User</div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("        <!-- Main Card -->\r\n");
      out.write("        <div class=\"main-card\">\r\n");
      out.write("            <div class=\"card-header-custom\">\r\n");
      out.write("                <div class=\"welcome-message\">\r\n");
      out.write("                    <i class=\"fas fa-user-tie\"></i>\r\n");
      out.write("                    <div>\r\n");
      out.write("                        <strong>Welcome back, ");
      out.print( facultyUser );
      out.write("!</strong>\r\n");
      out.write("                        <p class=\"mb-0\">Here's your faculty management dashboard</p>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"d-flex justify-content-between align-items-center flex-wrap\">\r\n");
      out.write("                    <div>\r\n");
      out.write("                        <h2><i class=\"fas fa-users-cog\"></i> Faculty Management</h2>\r\n");
      out.write("                        <p class=\"text-muted mb-0\">Manage and view all faculty information</p>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("            <!-- Controls Section -->\r\n");
      out.write("            <div class=\"controls-section\">\r\n");
      out.write("                <div class=\"search-container\">\r\n");
      out.write("                    <input type=\"text\" id=\"globalSearch\" placeholder=\"Search faculty by name, email, subject...\">\r\n");
      out.write("                    <i class=\"fas fa-search search-icon\"></i>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"d-flex gap-2 flex-wrap\">\r\n");
      out.write("                    <a href=\"AddFaculty.jsp\" class=\"btn-custom btn-add\">\r\n");
      out.write("                        <i class=\"fas fa-plus\"></i> Add Faculty\r\n");
      out.write("                    </a>\r\n");
      out.write("                    <button onclick=\"refreshData()\" class=\"btn-custom btn-refresh\">\r\n");
      out.write("                        <i class=\"fas fa-sync-alt\"></i> Refresh\r\n");
      out.write("                    </button>\r\n");
      out.write("                    <button onclick=\"exportData()\" class=\"btn-custom btn-export\">\r\n");
      out.write("                        <i class=\"fas fa-download\"></i> Export CSV\r\n");
      out.write("                    </button>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("            <!-- Table Section -->\r\n");
      out.write("            <div class=\"table-container\">\r\n");
      out.write("                ");

                    int facultyCount = 0;
                    int courseCount = 0;
                    boolean hasData = false;
                
      out.write("\r\n");
      out.write("                <table class=\"table table-striped\" id=\"facultyTable\">\r\n");
      out.write("                    <thead>\r\n");
      out.write("                        <tr>\r\n");
      out.write("                            <th><i class=\"fas fa-hashtag\"></i> ID</th>\r\n");
      out.write("                            <th><i class=\"fas fa-user\"></i> Name</th>\r\n");
      out.write("                            <th><i class=\"fas fa-envelope\"></i> Email</th>\r\n");
      out.write("                            <th><i class=\"fas fa-book\"></i> Subject</th>\r\n");
      out.write("                            <th><i class=\"fas fa-phone\"></i> Phone</th>\r\n");
      out.write("                            <th><i class=\"fas fa-map-marker-alt\"></i> City</th>\r\n");
      out.write("                            <th><i class=\"fas fa-cogs\"></i> Actions</th>\r\n");
      out.write("                        </tr>\r\n");
      out.write("                    </thead>\r\n");
      out.write("                    <tbody>\r\n");
      out.write("                        ");

                            try {
                                Class.forName("com.mysql.cj.jdbc.Driver");
                                Connection con = DriverManager.getConnection("jdbc:mysql://localhost:3306/stud_db", "root", "roote");

                                Statement stmt = con.createStatement();
                                ResultSet rs = stmt.executeQuery("SELECT * FROM faculty");

                                while (rs.next()) {
                                    hasData = true;
                                    facultyCount++;
                        
      out.write("\r\n");
      out.write("                        <tr>\r\n");
      out.write("                            <td><strong>#");
      out.print( rs.getInt("id") );
      out.write("</strong></td>\r\n");
      out.write("                            <td>\r\n");
      out.write("                                <div class=\"d-flex align-items-center justify-content-center\">\r\n");
      out.write("                                    <div class=\"rounded-circle bg-primary d-flex align-items-center justify-content-center me-2\" \r\n");
      out.write("                                         style=\"width: 35px; height: 35px; color: white; font-weight: bold;\">\r\n");
      out.write("                                        ");
      out.print( rs.getString("name").substring(0, 1).toUpperCase() );
      out.write("\r\n");
      out.write("                                    </div>\r\n");
      out.write("                                    ");
      out.print( rs.getString("name") );
      out.write("\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </td>\r\n");
      out.write("                            <td>\r\n");
      out.write("                                <a href=\"mailto:");
      out.print( rs.getString("email") );
      out.write("\" class=\"text-decoration-none\">\r\n");
      out.write("                                    <i class=\"fas fa-envelope me-1\"></i>");
      out.print( rs.getString("email") );
      out.write("\r\n");
      out.write("                                </a>\r\n");
      out.write("                            </td>\r\n");
      out.write("                            <td>\r\n");
      out.write("                                <span class=\"badge bg-info text-dark rounded-pill px-3 py-2\">\r\n");
      out.write("                                    ");
      out.print( rs.getString("subject") );
      out.write("\r\n");
      out.write("                                </span>\r\n");
      out.write("                            </td>\r\n");
      out.write("                            <td>\r\n");
      out.write("                                <a href=\"tel:");
      out.print( rs.getString("phone") );
      out.write("\" class=\"text-decoration-none\">\r\n");
      out.write("                                    <i class=\"fas fa-phone me-1\"></i>");
      out.print( rs.getString("phone") );
      out.write("\r\n");
      out.write("                                </a>\r\n");
      out.write("                            </td>\r\n");
      out.write("                            <td>\r\n");
      out.write("                                <i class=\"fas fa-map-marker-alt me-1\"></i>");
      out.print( rs.getString("city") );
      out.write("\r\n");
      out.write("                            </td>\r\n");
      out.write("                            <td>\r\n");
      out.write("                                <div class=\"action-buttons\">\r\n");
      out.write("                                    <a href=\"ViewFacultyDetails?id=");
      out.print( rs.getInt("id") );
      out.write("\" \r\n");
      out.write("                                       class=\"btn-sm-custom btn-view\" title=\"View Details\">\r\n");
      out.write("                                        <i class=\"fas fa-eye\"></i>\r\n");
      out.write("                                    </a>\r\n");
      out.write("                                    <a href=\"EditFaculty.jsp?id=");
      out.print( rs.getInt("id") );
      out.write("\" \r\n");
      out.write("                                       class=\"btn-sm-custom btn-edit\" title=\"Edit Faculty\">\r\n");
      out.write("                                        <i class=\"fas fa-edit\"></i>\r\n");
      out.write("                                    </a>\r\n");
      out.write("                                    <button onclick=\"confirmDelete('");
      out.print( rs.getInt("id") );
      out.write("', '");
      out.print( rs.getString("name") );
      out.write("')\" \r\n");
      out.write("                                            class=\"btn-sm-custom btn-delete\" title=\"Delete Faculty\">\r\n");
      out.write("                                        <i class=\"fas fa-trash\"></i>\r\n");
      out.write("                                    </button>\r\n");
      out.write("                                </div>\r\n");
      out.write("                            </td>\r\n");
      out.write("                        </tr>\r\n");
      out.write("                        ");

                                }
                                
                                // Count unique subjects
                                ResultSet countRs = stmt.executeQuery("SELECT COUNT(DISTINCT subject) as subject_count FROM faculty");
                                if (countRs.next()) {
                                    courseCount = countRs.getInt("subject_count");
                                }
                                
                                rs.close();
                                countRs.close();
                                stmt.close();
                                con.close();
                            } catch (Exception e) {
                        
      out.write("\r\n");
      out.write("                        <tr>\r\n");
      out.write("                            <td colspan=\"7\" class=\"text-center text-danger\">\r\n");
      out.write("                                <i class=\"fas fa-exclamation-triangle\"></i>\r\n");
      out.write("                                Error loading faculty data: ");
      out.print( e.getMessage() );
      out.write("\r\n");
      out.write("                            </td>\r\n");
      out.write("                        </tr>\r\n");
      out.write("                        ");

                            }
                        
      out.write("\r\n");
      out.write("                    </tbody>\r\n");
      out.write("                </table>\r\n");
      out.write("\r\n");
      out.write("                ");
 if (!hasData) { 
      out.write("\r\n");
      out.write("                    <div class=\"empty-state\">\r\n");
      out.write("                        <div class=\"icon\">\r\n");
      out.write("                            <i class=\"fas fa-chalkboard-teacher\"></i>\r\n");
      out.write("                        </div>\r\n");
      out.write("                        <h3>No Faculty Found</h3>\r\n");
      out.write("                        <p>There are no faculty members in the system yet.</p>\r\n");
      out.write("                        <a href=\"AddFaculty.jsp\" class=\"btn-custom btn-add mt-3\">\r\n");
      out.write("                            <i class=\"fas fa-plus\"></i> Add First Faculty\r\n");
      out.write("                        </a>\r\n");
      out.write("                    </div>\r\n");
      out.write("                ");
 } 
      out.write("\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <!-- Delete Confirmation Modal -->\r\n");
      out.write("    <div class=\"modal fade\" id=\"deleteModal\" tabindex=\"-1\">\r\n");
      out.write("        <div class=\"modal-dialog\">\r\n");
      out.write("            <div class=\"modal-content\">\r\n");
      out.write("                <div class=\"modal-header bg-danger text-white\">\r\n");
      out.write("                    <h5 class=\"modal-title\">\r\n");
      out.write("                        <i class=\"fas fa-exclamation-triangle\"></i> Confirm Delete\r\n");
      out.write("                    </h5>\r\n");
      out.write("                    <button type=\"button\" class=\"btn-close btn-close-white\" data-bs-dismiss=\"modal\"></button>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"modal-body\">\r\n");
      out.write("                    <div class=\"text-center\">\r\n");
      out.write("                        <i class=\"fas fa-user-times text-danger mb-3\" style=\"font-size: 3rem;\"></i>\r\n");
      out.write("                        <p class=\"fs-5\">Are you sure you want to delete faculty:</p>\r\n");
      out.write("                        <p class=\"fw-bold text-primary fs-4\" id=\"facultyNameToDelete\"></p>\r\n");
      out.write("                        <p class=\"text-muted\">This action cannot be undone and will permanently remove all faculty data.</p>\r\n");
      out.write("                    </div>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div class=\"modal-footer\">\r\n");
      out.write("                    <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">\r\n");
      out.write("                        <i class=\"fas fa-times\"></i> Cancel\r\n");
      out.write("                    </button>\r\n");
      out.write("                    <a href=\"#\" id=\"confirmDeleteBtn\" class=\"btn btn-danger\">\r\n");
      out.write("                        <i class=\"fas fa-trash\"></i> Delete Faculty\r\n");
      out.write("                    </a>\r\n");
      out.write("                </div>\r\n");
      out.write("            </div>\r\n");
      out.write("        </div>\r\n");
      out.write("    </div>\r\n");
      out.write("\r\n");
      out.write("    <!-- Scripts -->\r\n");
      out.write("    <script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js\"></script>\r\n");
      out.write("    <script src=\"https://code.jquery.com/jquery-3.7.1.min.js\"></script>\r\n");
      out.write("    <script src=\"https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js\"></script>\r\n");
      out.write("    <script src=\"https://cdn.datatables.net/1.13.7/js/dataTables.bootstrap5.min.js\"></script>\r\n");
      out.write("    \r\n");
      out.write("    <script>\r\n");
      out.write("        // Set faculty and course counts\r\n");
      out.write("        var facultyCount = ");
      out.print( facultyCount );
      out.write(";\r\n");
      out.write("        var courseCount = ");
      out.print( courseCount );
      out.write(";\r\n");
      out.write("        \r\n");
      out.write("        // Remove loading overlay when page loads\r\n");
      out.write("        window.addEventListener('load', function() {\r\n");
      out.write("            document.getElementById('loadingOverlay').classList.remove('show');\r\n");
      out.write("            updateCurrentTime();\r\n");
      out.write("            animateStats();\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        // Update current time\r\n");
      out.write("        function updateCurrentTime() {\r\n");
      out.write("            var now = new Date();\r\n");
      out.write("            var timeString = now.toLocaleTimeString();\r\n");
      out.write("            document.getElementById('currentTime').textContent = timeString;\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        // Update time every second\r\n");
      out.write("        setInterval(updateCurrentTime, 1000);\r\n");
      out.write("\r\n");
      out.write("        // Animate statistics\r\n");
      out.write("        function animateStats() {\r\n");
      out.write("            animateNumber('totalFaculty', facultyCount);\r\n");
      out.write("            animateNumber('totalStudents', 150); // This should come from actual student count\r\n");
      out.write("            animateNumber('totalCourses', courseCount);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        function animateNumber(elementId, target) {\r\n");
      out.write("            var element = document.getElementById(elementId);\r\n");
      out.write("            var current = 0;\r\n");
      out.write("            var increment = target / 50;\r\n");
      out.write("            var timer = setInterval(function() {\r\n");
      out.write("                current += increment;\r\n");
      out.write("                if (current >= target) {\r\n");
      out.write("                    current = target;\r\n");
      out.write("                    clearInterval(timer);\r\n");
      out.write("                }\r\n");
      out.write("                element.textContent = Math.floor(current);\r\n");
      out.write("            }, 20);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        // Initialize DataTables\r\n");
      out.write("        $(document).ready(function() {\r\n");
      out.write("            if ($('#facultyTable').length > 0 && $('#facultyTable tbody tr').length > 0) {\r\n");
      out.write("                var table = $('#facultyTable').DataTable({\r\n");
      out.write("                    responsive: true,\r\n");
      out.write("                    pageLength: 10,\r\n");
      out.write("                    lengthMenu: [[10, 25, 50, 100], [10, 25, 50, 100]],\r\n");
      out.write("                    order: [[0, 'asc']],\r\n");
      out.write("                    language: {\r\n");
      out.write("                        search: \"\",\r\n");
      out.write("                        searchPlaceholder: \"Search faculty...\",\r\n");
      out.write("                        lengthMenu: \"Show _MENU_ faculty per page\",\r\n");
      out.write("                        info: \"Showing _START_ to _END_ of _TOTAL_ faculty\",\r\n");
      out.write("                        paginate: {\r\n");
      out.write("                            first: \"First\",\r\n");
      out.write("                            last: \"Last\",\r\n");
      out.write("                            next: \"Next\",\r\n");
      out.write("                            previous: \"Previous\"\r\n");
      out.write("                        }\r\n");
      out.write("                    },\r\n");
      out.write("                    columnDefs: [\r\n");
      out.write("                        { orderable: false, targets: -1 } // Disable sorting on Actions column\r\n");
      out.write("                    ]\r\n");
      out.write("                });\r\n");
      out.write("\r\n");
      out.write("                // Global search functionality\r\n");
      out.write("                $('#globalSearch').on('keyup', function() {\r\n");
      out.write("                    table.search(this.value).draw();\r\n");
      out.write("                });\r\n");
      out.write("            }\r\n");
      out.write("        });\r\n");
      out.write("\r\n");
      out.write("        // Delete confirmation\r\n");
      out.write("        function confirmDelete(facultyId, facultyName) {\r\n");
      out.write("            document.getElementById('facultyNameToDelete').textContent = facultyName;\r\n");
      out.write("            document.getElementById('confirmDeleteBtn').href = 'DeleteFaculty?id=' + facultyId;\r\n");
      out.write("            \r\n");
      out.write("            var modal = new bootstrap.Modal(document.getElementById('deleteModal'));\r\n");
      out.write("            modal.show();\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        // Refresh data\r\n");
      out.write("        function refreshData() {\r\n");
      out.write("            document.getElementById('loadingOverlay').classList.add('show');\r\n");
      out.write("            window.location.reload();\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        // Export data\r\n");
      out.write("        function exportData() {\r\n");
      out.write("            var table = document.getElementById('facultyTable');\r\n");
      out.write("            if (!table || table.querySelectorAll('tbody tr').length == 0) {\r\n");
      out.write("                showNotification('No data to export!', 'warning');\r\n");
      out.write("                return;\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            var csv = 'ID,Name,Email,Subject,Phone,City\\n';\r\n");
      out.write("            \r\n");
      out.write("            var rows = table.querySelectorAll('tbody tr');\r\n");
      out.write("            for (var i = 0; i < rows.length; i++) {\r\n");
      out.write("                var cells = rows[i].querySelectorAll('td');\r\n");
      out.write("                if (cells.length >= 6) {\r\n");
      out.write("                    var rowData = [\r\n");
      out.write("                        cells[0].textContent.trim().replace('#', ''),\r\n");
      out.write("                        cells[1].textContent.trim(),\r\n");
      out.write("                        cells[2].textContent.trim(),\r\n");
      out.write("                        cells[3].textContent.trim(),\r\n");
      out.write("                        cells[4].textContent.trim(),\r\n");
      out.write("                        cells[5].textContent.trim()\r\n");
      out.write("                    ];\r\n");
      out.write("                    csv += rowData.map(function(field) { \r\n");
      out.write("                        return '\"' + field + '\"'; \r\n");
      out.write("                    }).join(',') + '\\n';\r\n");
      out.write("                }\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            var blob = new Blob([csv], { type: 'text/csv' });\r\n");
      out.write("            var url = window.URL.createObjectURL(blob);\r\n");
      out.write("            var a = document.createElement('a');\r\n");
      out.write("            a.href = url;\r\n");
      out.write("            a.download = 'faculty_' + new Date().toISOString().split('T')[0] + '.csv';\r\n");
      out.write("            a.click();\r\n");
      out.write("            window.URL.revokeObjectURL(url);\r\n");
      out.write("\r\n");
      out.write("            showNotification('Faculty data exported successfully!', 'success');\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        // Notification system\r\n");
      out.write("        function showNotification(message, type) {\r\n");
      out.write("            var iconClass = 'info-circle';\r\n");
      out.write("            if (type == 'success') {\r\n");
      out.write("                iconClass = 'check-circle';\r\n");
      out.write("            } else if (type == 'warning') {\r\n");
      out.write("                iconClass = 'exclamation-triangle';\r\n");
      out.write("            } else if (type == 'danger' || type == 'error') {\r\n");
      out.write("                iconClass = 'exclamation-circle';\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("            var notification = document.createElement('div');\r\n");
      out.write("            notification.className = 'alert alert-' + type + ' alert-dismissible fade show position-fixed';\r\n");
      out.write("            notification.style.cssText = 'top: 20px; right: 20px; z-index: 10000; min-width: 300px;';\r\n");
      out.write("            notification.innerHTML = '<i class=\"fas fa-' + iconClass + ' me-2\"></i>' + \r\n");
      out.write("                                    message + \r\n");
      out.write("                                    '<button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>';\r\n");
      out.write("            \r\n");
      out.write("            document.body.appendChild(notification);\r\n");
      out.write("            \r\n");
      out.write("            setTimeout(function() {\r\n");
      out.write("                if (notification.parentNode) {\r\n");
      out.write("                    notification.remove();\r\n");
      out.write("                }\r\n");
      out.write("            }, 5000);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        // Add loading overlay for navigation\r\n");
      out.write("        var links = document.querySelectorAll('a');\r\n");
      out.write("        for (var i = 0; i < links.length; i++) {\r\n");
      out.write("            links[i].addEventListener('click', function(e) {\r\n");
      out.write("                if (!this.hasAttribute('data-bs-toggle') && !this.hasAttribute('onclick') && \r\n");
      out.write("                    this.getAttribute('href') != '#' && \r\n");
      out.write("                    this.getAttribute('href') && !this.getAttribute('href').startsWith('mailto:') && \r\n");
      out.write("                    !this.getAttribute('href').startsWith('tel:')) {\r\n");
      out.write("                    document.getElementById('loadingOverlay').classList.add('show');\r\n");
      out.write("                }\r\n");
      out.write("            });\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        // Handle URL parameters for notifications\r\n");
      out.write("        var urlParams = new URLSearchParams(window.location.search);\r\n");
      out.write("        if (urlParams.get('deleted') == 'true') {\r\n");
      out.write("            showNotification('Faculty deleted successfully!', 'success');\r\n");
      out.write("        } else if (urlParams.get('added') == 'true') {\r\n");
      out.write("            showNotification('Faculty added successfully!', 'success');\r\n");
      out.write("        } else if (urlParams.get('updated') == 'true') {\r\n");
      out.write("            showNotification('Faculty updated successfully!', 'success');\r\n");
      out.write("        } else if (urlParams.get('error')) {\r\n");
      out.write("            showNotification('An error occurred. Please try again.', 'danger');\r\n");
      out.write("        } else if (urlParams.get('login') == 'success') {\r\n");
      out.write("            showNotification('Welcome to Faculty Dashboard!', 'success');\r\n");
      out.write("        }\r\n");
      out.write("    </script>\r\n");
      out.write("</body>\r\n");
      out.write("</html>");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof jakarta.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
